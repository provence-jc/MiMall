(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35374dc6"],{3924:function(t,e,r){"use strict";var a=r("f01e"),i=r.n(a);i.a},"6b4a":function(t,e,r){"use strict";var a=r("8820"),i=r.n(a);i.a},"6d2a":function(t,e,r){var a=r("24fb");e=a(!1),e.push([t.i,".cart .wrapper{background-color:#f5f5f5;padding-top:30px;padding-bottom:114px}.cart .wrapper .cart-box{background-color:#fff;font-size:14px;color:#999;text-align:center}.cart .wrapper .cart-box .checkbox{display:inline-block;width:22px;height:22px;border:1px solid #e5e5e5;vertical-align:middle;margin-right:17px;cursor:pointer}.cart .wrapper .cart-box .checkbox.checked{background:url(/imgs/icon-gou.png) #f60 no-repeat 50%;background-size:16px 12px;border:none}.cart .wrapper .cart-box .cart-item-head{display:-webkit-box;display:-ms-flexbox;display:flex;height:79px;line-height:79px}.cart .wrapper .cart-box .cart-item-head .col-1{-webkit-box-flex:1;-ms-flex:1;flex:1}.cart .wrapper .cart-box .cart-item-head .col-2{-webkit-box-flex:2;-ms-flex:2;flex:2}.cart .wrapper .cart-box .cart-item-head .col-3{-webkit-box-flex:3;-ms-flex:3;flex:3}.cart .wrapper .cart-box .cart-item-list .cart-item{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:125px;border-top:1px solid #e5e5e5;font-size:16px}.cart .wrapper .cart-box .cart-item-list .cart-item .item-check{-webkit-box-flex:1;-ms-flex:1;flex:1}.cart .wrapper .cart-box .cart-item-list .cart-item .item-name{-webkit-box-flex:3;-ms-flex:3;flex:3;font-size:18px;color:#333;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.cart .wrapper .cart-box .cart-item-list .cart-item .item-name img{width:80px;height:80px;vertical-align:middle}.cart .wrapper .cart-box .cart-item-list .cart-item .item-name span{margin-left:30px}.cart .wrapper .cart-box .cart-item-list .cart-item .item-price{-webkit-box-flex:1;-ms-flex:1;flex:1;color:#333}.cart .wrapper .cart-box .cart-item-list .cart-item .item-num{-webkit-box-flex:2;-ms-flex:2;flex:2}.cart .wrapper .cart-box .cart-item-list .cart-item .item-num .num-box{display:inline-block;width:150px;height:40px;line-height:40px;border:1px solid #e5e5e5;font-size:14px}.cart .wrapper .cart-box .cart-item-list .cart-item .item-num .num-box a,.cart .wrapper .cart-box .cart-item-list .cart-item .item-num .num-box span{display:inline-block;width:50px;color:#333}.cart .wrapper .cart-box .cart-item-list .cart-item .item-total{-webkit-box-flex:1;-ms-flex:1;flex:1;color:#f60}.cart .wrapper .cart-box .cart-item-list .cart-item .item-del{-webkit-box-flex:1;-ms-flex:1;flex:1;width:14px;height:12px;background:url(/imgs/icon-close.png) no-repeat 50%;background-size:contain;cursor:pointer}.cart .wrapper .order-wrap{font-size:14px;color:#666;margin-top:20px;height:50px;line-height:50px}.cart .wrapper .order-wrap .cart-tip{margin-left:29px}.cart .wrapper .order-wrap .cart-tip a{color:#666;margin-right:37px}.cart .wrapper .order-wrap .cart-tip span{color:#f60;margin:0 5px}.cart .wrapper .order-wrap .total{font-size:14px;color:#f60}.cart .wrapper .order-wrap .total span{font-size:24px}.cart .wrapper .order-wrap .total a{width:202px;height:50px;line-height:50px;font-size:18px;margin-left:37px}",""]),t.exports=e},"7cb1":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cart"},[r("order-header",{attrs:{title:"我的购物车"},scopedSlots:t._u([{key:"tip",fn:function(){return[r("span",[t._v("温馨提示：产品是否购买成功，以最终下单为准哦，请尽快结算")])]},proxy:!0}])}),r("div",{staticClass:"wrapper"},[r("div",{staticClass:"container"},[r("div",{staticClass:"cart-box"},[r("ul",{staticClass:"cart-item-head"},[r("li",{staticClass:"col-1"},[r("span",{staticClass:"checkbox",class:{checked:t.allChecked},on:{click:t.toggleAll}}),t._v("全选")]),r("li",{staticClass:"col-3"},[t._v("商品名称")]),r("li",{staticClass:"col-1"},[t._v("单价")]),r("li",{staticClass:"col-2"},[t._v("数量")]),r("li",{staticClass:"col-1"},[t._v("小计")]),r("li",{staticClass:"col-1"},[t._v("操作")])]),r("ul",{staticClass:"cart-item-list"},t._l(t.list,(function(e,a){return r("li",{key:a,staticClass:"cart-item"},[r("div",{staticClass:"item-check"},[r("span",{staticClass:"checkbox",class:{checked:e.productSelected},on:{click:function(r){return t.updateCart(e)}}})]),r("div",{staticClass:"item-name"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.productMainImage,expression:"item.productMainImage"}],attrs:{alt:""}}),r("span",[t._v(t._s(e.productName+" , "+e.productSubtitle))])]),r("div",{staticClass:"item-price"},[t._v(t._s(e.productPrice))]),r("div",{staticClass:"item-num"},[r("div",{staticClass:"num-box"},[r("a",{attrs:{href:"javascript:;"},on:{click:function(r){return t.updateCart(e,"-")}}},[t._v("-")]),r("span",[t._v(t._s(e.quantity))]),r("a",{attrs:{href:"javascript:;"},on:{click:function(r){return t.updateCart(e,"+")}}},[t._v("+")])])]),r("div",{staticClass:"item-total"},[t._v(t._s(e.productTotalPrice))]),r("div",{staticClass:"item-del",on:{click:function(r){return t.delProduct(e)}}})])})),0)]),r("div",{staticClass:"order-wrap clearfix"},[r("div",{staticClass:"cart-tip fl"},[r("a",{attrs:{href:"/#/index"}},[t._v("继续购物")]),t._v(" 共"),r("span",[t._v(t._s(t.list.length))]),t._v("件商品，已选择"),r("span",[t._v(t._s(t.checkedNum))]),t._v("件 ")]),r("div",{staticClass:"total fr"},[t._v(" 合计："),r("span",[t._v(t._s(t.cartTotalPrice))]),t._v("元 "),r("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:t.order}},[t._v("去结算")])])])])]),r("service-bar"),r("nav-footer")],1)},i=[],c=(r("a623"),r("4de4"),r("c3d4")),s=r("984c"),o=r("f091"),l={name:"index",components:{OrderHeader:c["a"],ServiceBar:s["a"],NavFooter:o["a"]},data:function(){return{list:[],allChecked:!1,cartTotalPrice:0,checkedNum:0}},mounted:function(){this.getCartList()},methods:{getCartList:function(){var t=this;this.axios.get("/carts").then((function(e){t.renderData(e)}))},updateCart:function(t,e){var r=this,a=t.quantity,i=t.productSelected;if("-"==e){if(1==a)return void this.$message.warning("商品至少保留一件");--a}else if("+"==e){if(a>t.productStock)return void this.$message.warning("购买数量不能超过库存数量");++a}else i=!t.productSelected;this.axios.put("/carts/".concat(t.productId),{quantity:a,selected:i}).then((function(t){r.renderData(t)}))},delProduct:function(t){var e=this;this.axios.delete("/carts/".concat(t.productId)).then((function(t){e.$message.success("删除成功"),e.renderData(t)}))},toggleAll:function(){var t=this,e=this.allChecked?"/carts/unSelectAll":"/carts/selectAll";this.axios.put(e).then((function(e){t.renderData(e)}))},renderData:function(t){this.list=t.cartProductVoList||[],this.allChecked=t.selectedAll,this.cartTotalPrice=t.cartTotalPrice,this.checkedNum=this.list.filter((function(t){return t.productSelected})).length},order:function(){var t=this.list.every((function(t){return!t.productSelected}));t?this.$message.warning("请选择一件商品"):this.$router.push("/order/confirm")}}},n=l,p=(r("3924"),r("2877")),d=Object(p["a"])(n,a,i,!1,null,null,null);e["default"]=d.exports},8820:function(t,e,r){var a=r("e4d5");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=r("499e").default;i("d04d5244",a,!0,{sourceMap:!1,shadowMode:!1})},a623:function(t,e,r){"use strict";var a=r("23e7"),i=r("b727").every,c=r("a640"),s=r("ae40"),o=c("every"),l=s("every");a({target:"Array",proto:!0,forced:!o||!l},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},c3d4:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"order-header"},[r("div",{staticClass:"container clearfix"},[t._m(0),r("div",{staticClass:"title"},[r("h2",[t._v(t._s(t.title)),t._t("tip")],2)]),r("div",{staticClass:"username"},[r("a",{attrs:{href:"javascript:;"}},[t._v(t._s(t.username))])])])])},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header-logo"},[r("a",{attrs:{href:"/#/index"}})])}],c=r("5530"),s=r("2f62"),o={name:"order-header",props:{title:String},computed:Object(c["a"])({},Object(s["c"])(["username"]))},l=o,n=(r("6b4a"),r("2877")),p=Object(n["a"])(l,a,i,!1,null,null,null);e["a"]=p.exports},e4d5:function(t,e,r){var a=r("24fb");e=a(!1),e.push([t.i,".order-header{padding:30px 0;border-bottom:2px solid #f60}.order-header .header-logo{float:left}.order-header .title,.order-header .username{display:inline-block;height:55px;line-height:55px;font-size:28px}.order-header .title{float:left;margin-left:54px}.order-header .title h2{font-size:28px;color:#333}.order-header .title span{font-size:14px;margin-left:17px;color:#999;font-weight:200}.order-header .username{float:right}.order-header .username a{color:#666;font-size:16px}",""]),t.exports=e},f01e:function(t,e,r){var a=r("6d2a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=r("499e").default;i("35493c28",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=chunk-35374dc6.59f77272.js.map